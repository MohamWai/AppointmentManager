<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clinic System - Connection Guide</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .connection-card {
            border-left: 4px solid #007bff;
        }
        .step-number {
            background: #007bff;
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 10px;
        }
    </style>
</head>
<body class="bg-light">
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card shadow">
                    <div class="card-header bg-primary text-white">
                        <h3 class="mb-0">üè• Clinic Management System - Connection Guide</h3>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info">
                            <h5>üìã Quick Connection</h5>
                            <p class="mb-2">To access the clinic system, use one of these methods:</p>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card connection-card">
                                        <div class="card-body">
                                            <h6>üåê Direct Link</h6>
                                            <div class="input-group mb-2">
                                                <input type="text" class="form-control" id="directLink" value="{{ network_url }}" readonly>
                                                <button class="btn btn-outline-primary" type="button" onclick="copyToClipboard('directLink')">
                                                    üìã Copy
                                                </button>
                                            </div>
                                            <small class="text-muted">Click the link or copy to browser</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card connection-card">
                                        <div class="card-body">
                                            <h6>üîó Manual Entry</h6>
                                            <p class="mb-1"><strong>Server IP:</strong> {{ server_ip }}</p>
                                            <p class="mb-1"><strong>Port:</strong> 5050</p>
                                            <p class="mb-0"><strong>URL:</strong> http://{{ server_ip }}:5050</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <h5>üìù Step-by-Step Instructions</h5>
                        <div class="list-group mb-4">
                            <div class="list-group-item">
                                <div class="d-flex align-items-center">
                                    <span class="step-number">1</span>
                                    <div>
                                        <strong>Open your web browser</strong> (Chrome, Firefox, Safari, or Edge)
                                    </div>
                                </div>
                            </div>
                            <div class="list-group-item">
                                <div class="d-flex align-items-center">
                                    <span class="step-number">2</span>
                                    <div>
                                        <strong>Enter the clinic system URL:</strong><br>
                                        <code class="bg-light p-2 rounded">{{ network_url }}</code>
                                    </div>
                                </div>
                            </div>
                            <div class="list-group-item">
                                <div class="d-flex align-items-center">
                                    <span class="step-number">3</span>
                                    <div>
                                        <strong>Login with your credentials</strong><br>
                                        Username and password provided by your administrator
                                    </div>
                                </div>
                            </div>
                            <div class="list-group-item">
                                <div class="d-flex align-items-center">
                                    <span class="step-number">4</span>
                                    <div>
                                        <strong>Start using the clinic system</strong><br>
                                        Access appointments, patients, and clinical documentation
                                    </div>
                                </div>
                            </div>
                        </div>

                        <h5>üîß Troubleshooting</h5>
                        <div class="accordion" id="troubleshootingAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
                                        ‚ùå Page won't load
                                    </button>
                                </h2>
                                <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                    <div class="accordion-body">
                                        <ul>
                                            <li>Check that you're connected to the clinic network</li>
                                            <li>Verify the server IP address is correct</li>
                                            <li>Ensure the clinic system is running on the server computer</li>
                                            <li>Try refreshing the page or clearing browser cache</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
                                        üîê Login issues
                                    </button>
                                </h2>
                                <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                    <div class="accordion-body">
                                        <ul>
                                            <li>Double-check your username and password</li>
                                            <li>Ensure Caps Lock is off</li>
                                            <li>Contact your administrator if you forgot your password</li>
                                            <li>Make sure your account is active</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">
                                        üì± Mobile access
                                    </button>
                                </h2>
                                <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                    <div class="accordion-body">
                                        <ul>
                                            <li>The system works on mobile devices</li>
                                            <li>Use the same URL on your phone's browser</li>
                                            <li>For best experience, use landscape orientation</li>
                                            <li>Consider adding the page to your home screen</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mt-4 text-center">
                            <a href="{{ network_url }}" class="btn btn-primary btn-lg">
                                üöÄ Open Clinic System
                            </a>
                        </div>

                        <div class="mt-3 text-center text-muted">
                            <small>
                                <strong>Server Status:</strong> 
                                <span class="badge bg-success">Online</span> | 
                                <strong>Last Updated:</strong> {{ current_time }}
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            element.select();
            element.setSelectionRange(0, 99999);
            
            try {
                document.execCommand('copy');
                
                // Show success message
                const button = event.target;
                const originalText = button.innerHTML;
                button.innerHTML = '‚úÖ Copied!';
                button.classList.remove('btn-outline-primary');
                button.classList.add('btn-success');
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.classList.remove('btn-success');
                    button.classList.add('btn-outline-primary');
                }, 2000);
                
            } catch (err) {
                console.error('Failed to copy: ', err);
                alert('Failed to copy to clipboard. Please copy manually.');
            }
        }
    </script>
</body>
</html> 